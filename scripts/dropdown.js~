
//a very nice solution from
//http://www.jankoatwarpspeed.com/reinventing-a-drop-down-with-css-and-jquery/
//obj : a jQuery object
function createDropDown(obj, surrounding){
    var selected = obj.find("option[selected]");  // get selected <option>
    var options = jQuery("option", obj);  // get all <option> elements
    // create <dl> and <dt> with selected value inside it
    surrounding.append('<dl id="target" class="dropdown"></dl>');
    // jQuery("#target").append('<dt><a href="' + selected.text() + 
    // 			     '<span class="value">' + selected.val() + 
    // 			     '</span></a></dt>')
    jQuery("#target").append('<dd><ul></ul></dd>');
    // iterate through all the <option> elements and create UL
    options.each(function(){
        jQuery("#target dd ul").append('<li><a href="#">' + 
            jQuery(this).text() + '<span class="value">' + 
            jQuery(this).val() + '</span></a></li>');
    });
}


//and my code: create the initial select object
function create_lesson_dropdown(){
    var s=jQuery('#jump_to_lesson_select');
    for(var i=1;i<=MAX_LESSONS;i++){
	var o = document.createElement('option');
	o.value=i;
	o.innerHTML=i;
	s.append(o);
    }
    s.change(function(){
	var v=parseInt(this.value);
	if(v>0){
	    CURRENT_LESSON=v;
	    this.blur();
	    load_lesson(0);		
	    $('prev_lesson').verify();
	    $('next_lesson').verify();
	}
    });
    s.val(CURRENT_LESSON);
    createDropDown(s, jQuery("#lesson_title"));
}
